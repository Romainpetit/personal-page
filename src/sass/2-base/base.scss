:root {
    overflow-x: hidden;
}

body {
    margin: 0;
    background: $base-background-color;
    padding: 0;
    color: $copy-color;
    font-family: $font-family-serif;
    font-size: $base-font-size;
    font-weight: 300;
    overflow-x: hidden;

    // Better text legibility
    text-rendering: optimizeLegibility;
    -moz-text-size-adjust: none;
    -webkit-text-size-adjust: none;
    -ms-text-size-adjust: none;

    // Better Font Rendering
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    font-smoothing: antialiased;

    box-sizing: border-box;
    word-break: break-word;
}

:focus {
    outline-color: transparent;
    outline-style: none;
}

img {
    max-width: 100%;
}

a {
    text-decoration: none;
    border-bottom: 1px solid transparent;
    border-bottom-color: rgba($main-color, .75);
    color: $darker-black-color;
    text-shadow: $white-color 0.5px 0.5px,
                $white-color -0.5px 0.5px,
                $white-color 1px 1px,
                $white-color -1px 1px,
                $white-color 1.5px 1.5px,
                $white-color -1.5px 1.5px,
                $white-color -2px 1px,
                $white-color -2px 1.5px,
                $white-color 2px 1px,
                $white-color 2px 1.5px,
                $white-color 2px 2px,
                $white-color -2px 2px,
                $white-color 2.5px 2.5px,
                $white-color -2.5px 2.5px,
                $white-color 3px 3px,
                $white-color -3px 3px,
                $white-color 2.5px 3px,
                $white-color -2.5px 3px,
                $white-color 0px 0.5px,
                $white-color 0px 1px,
                $white-color 0px 1.5px,
                $white-color 0px 2px,
                $white-color 0px 2.5px,
                $white-color 0px 3px,
                $white-color 1px 4px,
                $white-color -1px 4px,
                $white-color 1px 3.5px,
                $white-color -1px 3.5px,
                $white-color 1px 3px,
                $white-color -1px 3px,
                $white-color 1px 2.5px,
                $white-color -1px 2.5px,
                $white-color 1px 2px,
                $white-color -1px 2px;

    &:hover {
        color: rgba($main-color, .75);
    }
}

p, .copy {
    @include mb-base(1);

    font-weight: $font-weight-book;
}

hr {
    position: relative;
    @include base(height, 1);
    margin: 0 auto;
    width: 40%;

    &:before {
        height: 0px;
        top: -1px;
        position: absolute;
        content: '';
        width: 100%;
        background: linear-gradient(to right,
            rgba($main-color, 1) 0%,
            rgba($main-color, .75) 40%,
            rgba($main-color, .75) 60%,
            rgba($main-color, 1) 100%);

        // background: linear-gradient(250deg, rgba($main-color, .75), $main-color);
        background-size: 400% 400%;

        animation: flow 1s ease infinite;
    }
}

em {
    font-family: $font-family-serif;
}

cite {
    font-family: $font-family-sans-serif;
    font-style: normal;
}

li {
    list-style-type: none;
}

blockquote {
    margin: 0;
}

.layout {
    @include base(padding-top, 1);
    @include base(padding-bottom, 1);
    position: relative;
    background-image: url(http://basehold.it/i/29/);

    @include queries($sm) {
        @include base(padding-bottom, 4);
        background-image: url(http://basehold.it/i/33/);
    }

    @include queries($md) {
        @include base(padding-top, 2);
        background-image: url(http://basehold.it/i/36/);
    }

    @include queries($xl) {
        background-image: url(http://basehold.it/i/39/);
    }

    @include queries($xxl) {
        background-image: url(http://basehold.it/i/42/);
    }

}

.main-content {
    & > * {
        animation: fadein 1s ease-in-out;
    }
}

@keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

#layout.off {
    background-image: none !important;
}
